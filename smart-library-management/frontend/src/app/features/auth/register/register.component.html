<div class="min-h-screen flex items-center justify-center bg-gray-50 p-4">
  <div class="w-full max-w-md">
    <!-- Auth Card -->
    <div class="bg-white rounded-3xl border-2 border-purple-500 shadow-lg p-10 space-y-5">
      <!-- Header -->
      <div class="text-center space-y-2">
        <div class="w-14 h-14 bg-white border-2 border-purple-500 rounded-full flex items-center justify-center mx-auto">
          <i class="pi pi-user-plus text-purple-500 text-2xl"></i>
        </div>
        <h1 class="text-xl font-semibold text-gray-900">Join Smart Library</h1>
        <p class="text-gray-500 text-xs">Create your account to get started</p>
      </div>

      <!-- Success Message -->
      @if (successMessage()) {
        <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3">
          <i class="pi pi-check-circle text-lg"></i>
          <span class="text-sm">{{ successMessage() }}</span>
        </div>
      }

      <!-- Error Message -->
      @if (errorMessage()) {
        <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3">
          <i class="pi pi-exclamation-circle text-lg"></i>
          <span class="text-sm">{{ errorMessage() }}</span>
        </div>
      }

      <!-- Register Form -->
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- Name Field -->
        <div class="space-y-1.5">
          <label for="name" class="block text-xs font-medium text-gray-900">
            Full Name
          </label>
          <input
            pInputText
            id="name"
            formControlName="name"
            placeholder="John Doe"
            class="w-full"
          />
          @if (hasError('name', 'required')) {
            <small class="text-red-600 text-xs">Name is required</small>
          }
          @if (hasError('name', 'minlength')) {
            <small class="text-red-600 text-xs">Name must be at least 3 characters</small>
          }
        </div>

        <!-- Email Field -->
        <div class="space-y-1.5">
          <label for="email" class="block text-xs font-medium text-gray-900">
            Email
          </label>
          <input
            pInputText
            id="email"
            type="email"
            formControlName="email"
            placeholder="Email address"
            class="w-full"
          />
          @if (hasError('email', 'required')) {
            <small class="text-red-600 text-xs">Email is required</small>
          }
          @if (hasError('email', 'email')) {
            <small class="text-red-600 text-xs">Please enter a valid email</small>
          }
        </div>

        <!-- Password Field -->
        <div class="space-y-1.5">
          <label for="password" class="block text-xs font-medium text-gray-900">
            Password
          </label>
          <p-password
            formControlName="password"
            [toggleMask]="true"
            [feedback]="false"
            placeholder="Password"
            styleClass="w-full"
          />
          @if (hasError('password', 'required')) {
            <small class="text-red-600 text-xs">Password is required</small>
          }
          @if (hasError('password', 'minlength')) {
            <small class="text-red-600 text-xs">Password must be at least 6 characters</small>
          }
        </div>

        <!-- Confirm Password Field -->
        <div class="space-y-1.5">
          <label for="confirmPassword" class="block text-xs font-medium text-gray-900">
            Confirm Password
          </label>
          <p-password
            formControlName="confirmPassword"
            [toggleMask]="true"
            [feedback]="false"
            placeholder="Confirm password"
            styleClass="w-full"
          />
          @if (hasError('confirmPassword', 'required')) {
            <small class="text-red-600 text-xs">Please confirm your password</small>
          }
          @if (hasError('confirmPassword', 'passwordMismatch')) {
            <small class="text-red-600 text-xs">Passwords do not match</small>
          }
        </div>

        <!-- Role Selection -->
        <div class="space-y-1.5">
          <label for="role" class="block text-xs font-medium text-gray-900">
            Register As
          </label>
          <p-select
            formControlName="role"
            [options]="roleOptions"
            placeholder="Select your role"
            styleClass="w-full"
          />
          @if (hasError('role', 'required')) {
            <small class="text-red-600 text-xs">Please select a role</small>
          }
        </div>

        <!-- Submit Button -->
        <p-button
          type="submit"
          label="Create Account"
          [loading]="isLoading()"
          [disabled]="isLoading()"
          styleClass="w-full"
        />

        <!-- Divider -->
        <div class="relative my-4">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-xs">
            <span class="px-4 bg-white text-gray-500">Already have an account?</span>
          </div>
        </div>

        <!-- Login Link -->
        <p-button
          type="button"
          label="Sign In"
          routerLink="/login"
          styleClass="w-full"
          [outlined]="true"
        />
      </form>
    </div>
  </div>
</div>
